01/10/2024 Notes:
- maybe we want to eliminate the interation through drought profiles for the final package, obiviously we need to keep it for the paper
- We may 
https://hpc.wsu.edu/programmers-guide/python/
- are we keeping track of who is trading with who?
- we need to go over potential adaptations for the code. Reetwika said she had a list.
- welfare costs of climate shocks.
- run each drough number over one thread, then combine at end. Make it more efficient.
- how do we compare welfare of no drought at all, if GFT is our only metric?


01/13/2024 Notes:
time under pd concat: Time taken for simulation 1:  30.93202233314514
time under original: Time taken for simulation 1:  48.66238355636597
started pep-8 spacing rule
- run each drought number over a different parallel task. 


01/20/2024 Notes:

- Can we implement a reinforcement learning functionality to the model, where if a farmer trades, they are rewarded, but if they don't they are less likely to participate in the future?
- Monte carlo with random draws from percipitation distribution

################################################
memo 1 sent 1/19/2024
################################################

01/26/2024 Notes:

Spent time reading over dissertation paper and Howitt 1995

Video:
What Does Machine Learning Offer Game Theory (And Vice Versa)?
https://www.youtube.com/watch?v=GCCkLf42nMQ

Test: Compare results random.seed(4) under original script, and bilateral_stripped_1-13-24

orig:
Total Initial AV for Sellers:  22474.89560990274
Total Final AV for Sellers:  17115.14989473611
Total Initial AV for Buyers:  0.0
Total Final AV for Buyers:  12081.720168994363
Total Percentage of Agents Trading:  7.8
Number of agents that are cut-off:  451
-------------------



Stripped:

Random drought number is:  50
Total Gain from Trade:  248140.34918524325
-------------------
The model shows trade
-------------------
Total Initial AV for Sellers:  22474.89560990274
Total Final AV for Sellers:  17115.14989473611  
Total Initial AV for Buyers:  0.0
Total Final AV for Buyers:  12081.720168994363
Total Percentage of Agents Trading:  [7.8]
drought severity: 0.9
Number of agents that are cut-off:  451
##############################################################
##############################################################
Done with simulation number 1 in  61.22610306739807 seconds


*****We're getting the same results which is a good thing. 

Check out for extension ideas:
https://en.wikipedia.org/wiki/Multi-agent_reinforcement_learning


- Donadelli, Michael, Marcus JÃ¼ppner, Max Riedel, and Christian Schlag. "Temperature shocks and welfare costs." Journal of Economic Dynamics and Control 82 (2017): 331-355.

-performing some sort of sensitivity analysis to see how the model changes under parameter selection. Ideally, the model would be stable. 

- ran simulation 100 times for the same drought profiles for each of the following parameters:
    dr_num = 75
    agents = 100
    results -> trade_percent ~N(22.8, sd = 6.6)

    dr_num = 150
    agents = 200
    results -> trade_percent ~N(28.0, sd = 4.7)
    
    dr_num = 225
    agents = 300
    results -> trade_percent ~N(32.2, sd = 4.6)
    
    dr_num = 750
    agents = 1000
    results -> trade_percent ~N(44.05, sd = 1.9)
    
    see data at:
    https://www.desmos.com/calculator/ijsaeq9b3y

    A two sample t-test confirmed that these means are significantly different, similarly an F-test confirmed significantly different variances

see relationship between number agents and market participation
https://www.desmos.com/calculator/rm9vyyypg9

=> f(x)=9.08101*ln(x)-19.4416
One percent increase in x is associated with a (9.08101 / 100) = 0.091 unit increase in DV. For every one percent increase in market size, participation increases 9 percentage points. 

tomorrow: benchmark time complexity of algorithm

Time-compexity for 200 agents under dr_no 50-150: DR_NO doesn't increase complexity in an interesting way

let's try increasing agent count and see how time responds, from n=100 to n=300 by increrasing 1 integer. dr_no is agent_count/2. So 50% cutoff

!! Whow is n iterations during one season realistic for farmers trading? can we make it so a previouis attempt at trading with failure disincentivizes future atttemps?

- Time complexity describes how runtime relates to input size


- data structures and algorithms tutorial Video
https://www.youtube.com/watch?v=D6xkbGLQesk

-Faster ABMs in python
https://lrdegeest.github.io/blog/faster-abms-python
 -integrating numba package


next time:
test for how random seed affects results

